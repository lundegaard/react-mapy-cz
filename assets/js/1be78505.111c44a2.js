"use strict";(self.webpackChunkmapy_cz_react_docs=self.webpackChunkmapy_cz_react_docs||[]).push([[514],{2384:function(e,n,r){var t=r(7378),o=r(3615),u=r(1296),i=r(9517),a=function(e){var n=e.maxDistance,r=void 0===n?100:n,o=(0,u.S)(),a=o.map,c=o.SMap,s=(0,i.S)(),l=(0,t.useRef)();return(0,t.useEffect)((function(){l.current=new c.Marker.Clusterer(a,r),s.setClusterer(l.current)}),[a,s,r,c]),null};a.propTypes={maxDistance:o.number},n.Z=a},7915:function(e,n,r){r.d(n,{Z:function(){return c}});var t=r(7378),o=r(3615),u="smap_3Ndk",i=r(1296),a=function(e){var n=e.children,r=e.width,o=void 0===r?"100%":r,a=e.height,c=void 0===a?"auto":a,s=(0,i.S)(),l=s.map,f=s.id;return t.createElement("div",{style:{width:o,height:c,minHeight:"150px"},id:f,className:u},l&&n)};a.propTypes={children:o.node,height:o.string,width:o.string};var c=(0,t.memo)(a)},1296:function(e,n,r){r.d(n,{Z:function(){return g},S:function(){return m}});var t=r(7378),o=r(3615),u=r(1572),i=r(455),a=r(3996),c=r.n(a),s=function(e){return function(n){var r=(0,t.useState)(!1),o=r[0],i=r[1],a=(0,t.useCallback)((function(e){var n,r;void 0===e&&(e=1),c()(window,"This library is not designed to be run on the server"),null!=(n=window)&&null!=(r=n.SMap)&&r.Suggest?i(!0):e<=u.aG&&setTimeout((function(){return a(!1)}),u.VP)}),[]);return(0,t.useEffect)((function(){if(document.getElementById(u.AT))a();else{var e=document.createElement("script");e.src="https://api.mapy.cz/loader.js",e.id=u.AT,e.async=!0,e.onload=function(){window.Loader.async=!0,window.Loader.load(null,{suggest:!0},a)},document.head.appendChild(e)}}),[a]),o?t.createElement(e,n):t.createElement("div",null,"Loading map...")}},l=function(e,n){return function(r,t,o,u){void 0===o&&(o=17),void 0===u&&(u=!0);var i=n.Coords.fromWGS84(r,t);e.setCenterZoom(i,o,u)}},f=r(4665),d=function(){var e=(0,t.useState)([]),n=e[0],r=e[1],o=(0,t.useCallback)((function(e,n){r((function(r){if(r.some((function(e){return e.type===n})))throw new Error("There can be only one rendered layer of type "+n+" in map");return[].concat(r,[{type:n,data:e}])}))}),[]),u=(0,t.useCallback)((function(e){var r=n.find((function(n){return n.type===e}));return null==r?void 0:r.data}),[n]);return{activeLayers:n,getActiveLayerByType:u,registerActiveLayer:o}},p=function(e,n,r,o,u,i,a){var c=(0,t.useState)(),s=c[0],l=c[1];return(0,t.useEffect)((function(){if(!s&&i){var t=i.Coords.fromWGS84(e.lng,e.lat),c=new i(window.JAK.gel(n),t,a);c.setZoomRange(u,o);var f=r[0],d=r.slice(1);c.addDefaultLayer(f).enable(),d.forEach((function(e){c.addDefaultLayer(e)})),l(c)}}),[e,n,s,r,o,u,i,a]),s},v=(0,t.createContext)(),m=(0,f.V)(v,"MapProvider"),S=function(e){var n=e.center,r=e.children,o=e.id,i=void 0===o?"mapy-cz-map":o,a=e.mapLayers,c=void 0===a?[u.Hi.BASE_NEW]:a,s=e.maxZoom,f=void 0===s?18:s,m=e.minZoom,S=void 0===m?1:m,g=e.zoom,y=void 0===g?5:g,E=(0,t.useMemo)((function(){return window.SMap}),[]),T=p(n,i,c,f,S,E,y),M=d();return t.createElement(v.Provider,{value:Object.assign({},M,{id:i,map:T,mapLayers:c,setMapCenter:l(T,E),SMap:E})},r)};S.propTypes={center:(0,o.shape)(i.Y).isRequired,children:o.node,id:o.string,mapLayers:(0,o.arrayOf)([(0,o.oneOf)(Object.keys(u.Hi))]),maxZoom:o.number,minZoom:o.number,zoom:o.number};var g=s(S)},1002:function(e,n,r){var t=r(7378),o=r(455),u=r(258),i=r(9517),a=function(e){var n=(0,i.S)();return(0,t.useEffect)((function(){var r=(0,u.Z)(e);return null==n||n.addMarker(r),function(){null==n||n.removeMarker(r,!0)}}),[n,e]),null};a.propTypes=o.q,n.Z=a},9517:function(e,n,r){r.d(n,{S:function(){return s}});var t=r(7378),o=r(3615),u=r(4665),i=r(1572),a=r(1296),c=(0,t.createContext)(),s=(0,u.V)(c,"MarkerLayer"),l=function(e){var n=e.children,r=(0,a.S)(),o=r.map,u=r.SMap,s=r.registerActiveLayer,l=(0,t.useRef)();return(0,t.useEffect)((function(){var e=new u.Layer.Marker;return l.current=e,null==o||o.addLayer(e),e.enable(),s(e,i.$N.MARKER),function(){o.removeLayer(l.current)}}),[o,u,s]),t.createElement(c.Provider,{value:l.current},l.current&&n)};l.propTypes={children:o.node},n.Z=l},1038:function(e,n,r){var t=r(7378),o=r(3615),u=r(258),i=r(455),a=r(9517),c=r(1296),s=function(e){var n=e.markersData,r=(0,a.S)(),o=(0,c.S)().SMap,i=(0,t.useRef)(),s=(0,t.useRef)();return(0,t.useEffect)((function(){if(Array.isArray(n)&&JSON.stringify(i.current)!==JSON.stringify(n)){var e=n.map(u.Z);s.current&&(null==r||r.removeMarker(s.current)),null==r||r.addMarker(e),i.current=n,s.current=e}}),[r,n,o]),null};s.propTypes={markersData:(0,o.arrayOf)((0,o.shape)(i.q)).isRequired},n.Z=s},2885:function(e,n,r){var t=r(7378),o=r(3615),u=r(455),i=r(1296),a=function(e){var n=e.redPointer,r=e.coords,o=r.lng,u=r.lat,a=e.showDistance,c=(0,i.S)(),s=c.map,l=c.SMap;return(0,t.useEffect)((function(){var e=new l.Control.Pointer({type:n?l.Control.Pointer.TYPES.RED:l.Control.Pointer.TYPES.BLUE,snapHUDtoScreen:1,showDistance:a});return s.addControl(e),e.setCoords(l.Coords.fromWGS84(o,u)),function(){s.removeControl(e)}}),[u,o,s,n,a,l]),null};a.propTypes={coords:u.Y.isRequired,redPointer:o.bool,showDistance:o.bool},n.Z=a},695:function(e,n,r){var t=r(3615),o=r(455),u=r(1572),i=r(5660),a=r(1296),c=function(e){var n=e.color,r=void 0===n?u.b2:n,t=e.coords,o=e.id,c=e.routeType,s=void 0===c?u.nS.FAST:c,l=e.width,f=void 0===l?u.GA:l,d=(0,a.S)().SMap,p=(0,i.y)(),v=t.map((function(e){var n=e.lng,r=e.lat;return d.Coords.fromWGS84(n,r)})),m={color:r,width:f};return new d.Route(v,(function(e){var n=e&&e.getResults().geometry,r=new d.Geometry(d.GEOMETRY_POLYLINE,o,n,m);null==p||p.addGeometry(r)}),{criterion:s}),null};c.propTypes={color:t.string,coords:(0,t.arrayOf)((0,t.shape)(o.Y)),id:t.string,routeType:t.string,width:t.number},n.Z=c},5660:function(e,n,r){r.d(n,{y:function(){return c}});var t=r(7378),o=r(3615),u=r(4665),i=r(1296),a=(0,t.createContext)(),c=(0,u.V)(a,"RouteProvider"),s=function(e){var n=e.children,r=(0,i.S)(),o=r.map,u=new r.SMap.Layer.Geometry;return o.addLayer(u),u.enable(),(0,t.useEffect)((function(){return function(){o.removeLayer(u)}})),t.createElement(a.Provider,{value:u},n)};s.propTypes={children:o.node},n.Z=s},4481:function(e,n,r){r.d(n,{Z:function(){return l}});var t=r(3615),o=r(7378),u=r(1296),i=function(e,n){var r=(0,u.S)(),t=r.setMapCenter,i=r.SMap,a=(0,o.useCallback)((function(e){var n=e.getResults()[0].results;if(n.length){var r=n[0].coords;t(r.x,r.y)}else console.error("Place not found")}),[t]);return function(r){r.preventDefault(),n||new i.Geocoder(e,a)}},a={bounds:"48.5370786,12.0921668|51.0746358,18.8927040",enableCategories:0,lang:"cs,en"},c=function(e,n,r,t){void 0===t&&(t=a);var i=(0,u.S)(),c=i.setMapCenter,s=i.SMap,l=(0,o.useRef)(r);(0,o.useLayoutEffect)((function(){l.current=r})),(0,o.useEffect)((function(){var r;return n||(r=new s.Suggest(e.current,{provider:new s.SuggestProvider({updateParams:function(e){return Object.assign({},e,t)}})})).addListener("suggest",(function(e){var n=e.data;c(n.longitude,n.latitude),l.current&&l.current(n)})),function(){n||r.removeListener("suggest")}}),[t,n,e,c,s])},s=function(e){var n=e.className,r=void 0===n?"":n,t=e.disableGeolocation,u=e.disableSuggest,a=e.inputComp,s=void 0===a?"input":a,l=e.inputValue,f=e.onSuggestItemSelect,d=e.onValueChange,p=(0,o.useState)(""),v=p[0],m=p[1];(0,o.useEffect)((function(){null!=l&&m(l)}),[l]);var S=(0,o.useRef)();c(S,u,f);var g=i(v,t);return o.createElement("form",{onSubmit:g},o.createElement(s,{ref:S,value:v,onChange:function(e){d&&d(e.target.value),m(e.target.value)},className:r}),!t&&o.createElement("input",{type:"submit"}))};s.propTypes={className:t.string,disableGeolocation:t.bool,disableSuggest:t.bool,inputComp:(0,t.oneOfType)([t.string,t.elementType]),inputValue:t.string,onSuggestItemSelect:t.func,onValueChange:t.func};var l=s},8534:function(e,n,r){var t=r(7378),o=r(3615),u=r(1296),i=function(e){var n=e.onClusterClick,r=e.onMarkerClick,o=(0,u.S)().map,i=(0,t.useRef)(n),a=(0,t.useRef)(r),c=(0,t.useRef)();return(0,t.useLayoutEffect)((function(){i.current=n,a.current=r})),(0,t.useEffect)((function(){return(a.current||i.current)&&(c.current=o.getSignals().addListener(undefined,"marker-click",(function(e){!e.target._clusterOptions&&a.current&&a.current(e.target),e.target._clusterOptions&&i.current&&i.current(e.target)}))),function(){c.current&&o.getSignals().removeListener(c.current)}}),[o]),null};i.propTypes={onClusterClick:o.func,onMarkerClick:o.func},n.Z=i},1601:function(e,n,r){var t=r(3615),o=r(7378),u=r(1296),i=function(e){var n=e.pan,r=void 0===n||n,t=e.zoom,i=void 0===t||t,a=(0,u.S)(),c=a.map,s=a.SMap,l=0;return l|=r&&s.KB_PAN,l|=i&&s.KB_ZOOM,(0,o.useEffect)((function(){var e=new s.Control.Keyboard(l);return c.addControl(e),function(){c.removeControl(e)}}),[c,l,s]),null};i.propTypes={pan:t.bool,zoom:t.bool},n.Z=i},2699:function(e,n,r){var t=r(7378),o=r(3615),u=r(1296),i=function(e){var n=e.width,r=void 0===n?65:n,o=e.pageSize,i=void 0===o?3:o,a=(0,u.S)(),c=a.map,s=a.mapLayers,l=a.SMap;return(0,t.useEffect)((function(){var e=new l.Control.Layer({items:i,page:i,width:r});return s.forEach((function(n){e.addDefaultLayer(n)})),c.addControl(e,{left:"0px",top:"0px"}),function(){c.removeControl(e)}}),[c,s,i,r,l]),null};i.propTypes={pageSize:o.number,width:o.number},n.Z=i},8053:function(e,n,r){var t=r(3615),o=r(7378),u=r(1296),i=function(e){var n=e.pan,r=void 0===n||n,t=e.wheel,i=void 0===t||t,a=e.zoom,c=void 0===a||a,s=e.options,l=(0,u.S)(),f=l.map,d=l.SMap,p=0;return p|=r&&d.MOUSE_PAN,p|=c&&d.MOUSE_ZOOM,p|=i&&d.MOUSE_WHEEL,(0,o.useEffect)((function(){var e=new d.Control.Mouse(p,s);return f.addControl(e),function(){f.removeControl(e)}}),[f,p,d,s]),null};i.propTypes={options:(0,t.shape)({driftSlowdown:t.number,driftTreshold:t.number,idleDelay:t.number,maxDriftSpeed:t.number,minDriftSpeed:t.number,scrollDelay:t.number}),pan:t.bool,wheel:t.bool,zoom:t.bool},n.Z=i},5970:function(e,n,r){var t,o=r(7378),u=r(3615),i=r(1296),a=function(e){var n=e.labels,r=e.showZoomMenu,t=e.sliderHeight,u=void 0===t?16:t,a=e.stepHeight,c=void 0===a?9:a,s=(0,i.S)(),l=s.map,f=s.SMap;return(0,o.useEffect)((function(){var e=new f.Control.Zoom(n,{showZoomMenu:r,sliderHeight:u,step:c});return l.addControl(e),function(){l.removeControl(e)}}),[n,l,r,u,f,c]),null};a.propTypes={labels:(0,u.shape)((t={},t[u.number]=u.string,t)),showZoomMenu:u.bool,sliderHeight:u.number,step:u.number,titles:(0,u.arrayOf)(u.string)},n.Z=a},1572:function(e,n,r){r.d(n,{$N:function(){return l},AT:function(){return t},GA:function(){return s},Hi:function(){return i},VP:function(){return u},aG:function(){return o},b2:function(){return c},nS:function(){return a}});var t="mapy.cz-api-script",o=3,u=300,i={BASE:1,TURIST:2,OPHOTO:3,HYBRID:4,HISTORIC:5,BIKE:6,TRAIL:7,OPHOTO0203:8,OPHOTO0406:9,OBLIQUE:12,SMART_BASE:14,SMART_OPHOTO:15,SMART_TURIST:16,RELIEF:17,TURIST_WINTER:19,SMART_WINTER:20,SUMMER:21,SMART_SUMMER:22,GEOGRAPHY:23,OPHOTO1012:24,HYBRID_SPARSE:25,OPHOTO1415:26,BASE_NEW:27,TURIST_NEW:28},a={FAST:"fast",SHORT:"short",BIKE1:"bike1",BIKE2:"bike2",BIKE3:"bike3",TURIST1:"turist1",TURIST2:"turist2"},c="#f00",s=3,l={CANVAS:"CANVAS",GEOMETRY:"GEOMETRY",HUD:"HUD",IMAGE:"IMAGE",MARKER:"MARKER"}},258:function(e,n,r){var t=r(1244),o=["cardBodyText","cardHeaderText","coords","enableCard","imgSrc","tooltip"];n.Z=function(e){var n=e.cardBodyText,r=e.cardHeaderText,u=e.coords,i=e.enableCard,a=e.imgSrc,c=e.tooltip,s=(0,t.Z)(e,o),l=Object.assign({},a?{url:a}:void 0,c?{title:c}:void 0,s),f=window.SMap.Coords.fromWGS84(u.longitude,u.latitude),d=new window.SMap.Marker(f,!1,Object.keys(l).length>0?l:void 0);if(i){var p=new window.SMap.Card;p.getHeader().innerHTML=r,p.getBody().innerHTML=n,d.decorate(window.SMap.Marker.Feature.Card,p)}return d}},4665:function(e,n,r){r.d(n,{V:function(){return o}});var t=r(7378),o=function(e,n){return function(){var r,o=(0,t.useContext)(e);if(void 0===o)throw new Error(e.displayName+" must be used within "+(null!=n?n:null==e||null==(r=e.Provider)?void 0:r.displayName));return o}}},455:function(e,n,r){r.d(n,{Y:function(){return o},q:function(){return u}});var t=r(3615),o={lng:(0,t.oneOfType)([t.number,t.string]),lat:(0,t.oneOfType)([t.number,t.string])},u={cardBodyText:t.string,cardHeaderText:t.string,coords:(0,t.shape)({lng:t.number,lat:t.number}).isRequired,enableCard:t.bool,imgSrc:t.string,tooltip:t.string}},8707:function(e,n,r){r.d(n,{Z:function(){return h}});var t={};r.r(t),r.d(t,{BASE_LAYERS:function(){return R.Hi},Clusterer:function(){return u.Z},DEFAULT_ROUTE_COLOR:function(){return R.b2},DEFAULT_ROUTE_WIDTH:function(){return R.GA},KeyboardControl:function(){return S.Z},LayerControl:function(){return g.Z},MAPYCZ_LOADER_SCRIPT_ID:function(){return R.AT},MAX_RETRIES:function(){return R.aG},Map:function(){return i.Z},MapProvider:function(){return a.Z},Marker:function(){return c.Z},MarkerLayer:function(){return s.Z},MouseControl:function(){return y.Z},MultipleMarkers:function(){return l.Z},Pointer:function(){return f.Z},RETRY_DELAY_MS:function(){return R.VP},ROUTE_TYPES:function(){return R.nS},RouteGeometry:function(){return d.Z},RouteLayer:function(){return p.Z},SMAP_LAYER_TYPES:function(){return R.$N},SearchInput:function(){return v.Z},Signals:function(){return m.Z},SyncControl:function(){return M},ZoomControl:function(){return C.Z},getRouteUrl:function(){return w},useGetMyLocation:function(){return b},useMap:function(){return a.S},useMarkerLayer:function(){return s.S},useRoute:function(){return p.y}});var o=r(7378),u=r(2384),i=r(7915),a=r(1296),c=r(1002),s=r(9517),l=r(1038),f=r(2885),d=r(695),p=r(5660),v=r(4481),m=r(8534),S=r(1601),g=r(2699),y=r(8053),E=r(3615),T=function(e){var n=e.bottomSpace,r=void 0===n?0:n,t=e.resizeTimeout,u=void 0===t?100:t,i=(0,a.S)(),c=i.map,s=i.SMap;return(0,o.useEffect)((function(){var e=new s.Control.Sync({bottomSpace:r,resizeTimeout:u});return c.addControl(e),function(){c.removeControl(e)}}),[r,c,u,s]),null};T.propTypes={bottomSpace:E.number,resizeTimeout:E.number};var M=T,C=r(5970),b=function(e,n){void 0===n&&(n=function(){return null});var r=(0,o.useState)(!1),t=r[0],u=r[1],i=(0,o.useState)(!0),c=i[0],s=i[1],l=(0,a.S)().setMapCenter;(0,o.useEffect)((function(){var e,n;null!=(e=navigator)&&e.geolocation||s(!1),null!=(n=navigator)&&n.permissions&&navigator.permissions.query({name:"geolocation"}).then((function(e){"denied"===e.status&&s(!1)}))}),[]);return{geolocationEnabled:c,handleClick:function(){navigator?(u(!0),navigator.geolocation.getCurrentPosition((function(n){var r=n.coords;u(!1),l(r.longitude,r.latitude),e(r)}),(function(e){u(!1),n(e)}))):console.error("navigator instance not found")},loading:t}},w=function(e,n,r){var t=new window.SMap.URL.Route;if(e){var o=window.SMap.Coords.fromWGS84(e.lng,e.lat);t.addStart(o)}if(e&&r&&r.forEach((function(e){var n=window.SMap.Coords.fromWGS84(e.lng,e.lat);t.addWaypoint(n)})),n){var u=window.SMap.Coords.fromWGS84(n.lng,n.lat);t.addDestination(u)}return t.toString()},R=r(1572),h=Object.assign({React:o},o,t)}}]);