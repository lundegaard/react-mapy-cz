"use strict";(self.webpackChunkmapy_cz_react_docs=self.webpackChunkmapy_cz_react_docs||[]).push([[643],{7915:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(7378),o=t(3615),a="smap_3Ndk",i=t(1296),u=function(e){var n=e.children,t=e.width,o=void 0===t?"100%":t,u=e.height,c=void 0===u?"auto":u,s=(0,i.S)(),l=s.map,p=s.id;return r.createElement("div",{style:{width:o,height:c,minHeight:"150px"},id:p,className:a},l&&n)};u.propTypes={children:o.node,height:o.string,width:o.string};var c=(0,r.memo)(u)},1296:function(e,n,t){t.d(n,{Z:function(){return g},S:function(){return v}});var r=t(7378),o=t(3615),a=t(1572),i=t(455),u=t(3996),c=t.n(u),s=function(e){return function(n){var t=(0,r.useState)(!1),o=t[0],i=t[1],u=(0,r.useCallback)((function(e){var n,t;void 0===e&&(e=1),c()(window,"This library is not designed to be run on the server"),null!=(n=window)&&null!=(t=n.SMap)&&t.Suggest?i(!0):e<=a.aG&&setTimeout((function(){return u(!1)}),a.VP)}),[]);return(0,r.useEffect)((function(){if(document.getElementById(a.AT))u();else{var e=document.createElement("script");e.src="https://api.mapy.cz/loader.js",e.id=a.AT,e.async=!0,e.onload=function(){window.Loader.async=!0,window.Loader.load(null,{suggest:!0},u)},document.head.appendChild(e)}}),[u]),o?r.createElement(e,n):r.createElement("div",null,"Loading map...")}},l=function(e,n){return function(t,r,o,a){void 0===o&&(o=17),void 0===a&&(a=!0);var i=n.Coords.fromWGS84(t,r);e.setCenterZoom(i,o,a)}},p=t(4665),d=function(){var e=(0,r.useState)([]),n=e[0],t=e[1],o=(0,r.useCallback)((function(e,n){t((function(t){if(t.some((function(e){return e.type===n})))throw new Error("There can be only one rendered layer of type "+n+" in map");return[].concat(t,[{type:n,data:e}])}))}),[]),a=(0,r.useCallback)((function(e){var t=n.find((function(n){return n.type===e}));return null==t?void 0:t.data}),[n]);return{activeLayers:n,getActiveLayerByType:a,registerActiveLayer:o}},f=function(e,n,t,o,a,i,u){var c=(0,r.useState)(),s=c[0],l=c[1];return(0,r.useEffect)((function(){if(!s&&i){var r=i.Coords.fromWGS84(e.lng,e.lat),c=new i(window.JAK.gel(n),r,u);c.setZoomRange(a,o);var p=t[0],d=t.slice(1);c.addDefaultLayer(p).enable(),d.forEach((function(e){c.addDefaultLayer(e)})),l(c)}}),[e,n,s,t,o,a,i,u]),s},m=(0,r.createContext)(),v=(0,p.V)(m,"MapProvider"),h=function(e){var n=e.center,t=e.children,o=e.id,i=void 0===o?"mapy-cz-map":o,u=e.mapLayers,c=void 0===u?[a.Hi.BASE_NEW]:u,s=e.maxZoom,p=void 0===s?18:s,v=e.minZoom,h=void 0===v?1:v,g=e.zoom,y=void 0===g?5:g,b=(0,r.useMemo)((function(){return window.SMap}),[]),w=f(n,i,c,p,h,b,y),E=d();return r.createElement(m.Provider,{value:Object.assign({},E,{id:i,map:w,mapLayers:c,setMapCenter:l(w,b),SMap:b})},t)};h.propTypes={center:(0,o.shape)(i.Y).isRequired,children:o.node,id:o.string,mapLayers:(0,o.arrayOf)([(0,o.oneOf)(Object.keys(a.Hi))]),maxZoom:o.number,minZoom:o.number,zoom:o.number};var g=s(h)},4481:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(3615),o=t(7378),a=t(1296),i=function(e,n){var t=(0,a.S)(),r=t.setMapCenter,i=t.SMap,u=(0,o.useCallback)((function(e){var n=e.getResults()[0].results;if(n.length){var t=n[0].coords;r(t.x,t.y)}else console.error("Place not found")}),[r]);return function(t){t.preventDefault(),n||new i.Geocoder(e,u)}},u={bounds:"48.5370786,12.0921668|51.0746358,18.8927040",enableCategories:0,lang:"cs,en"},c=function(e,n,t,r){void 0===r&&(r=u);var i=(0,a.S)(),c=i.setMapCenter,s=i.SMap,l=(0,o.useRef)(t);(0,o.useLayoutEffect)((function(){l.current=t})),(0,o.useEffect)((function(){var t;return n||(t=new s.Suggest(e.current,{provider:new s.SuggestProvider({updateParams:function(e){return Object.assign({},e,r)}})})).addListener("suggest",(function(e){var n=e.data;c(n.longitude,n.latitude),l.current&&l.current(n)})),function(){n||t.removeListener("suggest")}}),[r,n,e,c,s])},s=function(e){var n=e.className,t=void 0===n?"":n,r=e.disableGeolocation,a=e.disableSuggest,u=e.inputComp,s=void 0===u?"input":u,l=e.inputValue,p=e.onSuggestItemSelect,d=e.onValueChange,f=(0,o.useState)(""),m=f[0],v=f[1];(0,o.useEffect)((function(){null!=l&&v(l)}),[l]);var h=(0,o.useRef)();c(h,a,p);var g=i(m,r);return o.createElement("form",{onSubmit:g},o.createElement(s,{ref:h,value:m,onChange:function(e){d&&d(e.target.value),v(e.target.value)},className:t}),!r&&o.createElement("input",{type:"submit"}))};s.propTypes={className:r.string,disableGeolocation:r.bool,disableSuggest:r.bool,inputComp:(0,r.oneOfType)([r.string,r.elementType]),inputValue:r.string,onSuggestItemSelect:r.func,onValueChange:r.func};var l=s},1601:function(e,n,t){var r=t(3615),o=t(7378),a=t(1296),i=function(e){var n=e.pan,t=void 0===n||n,r=e.zoom,i=void 0===r||r,u=(0,a.S)(),c=u.map,s=u.SMap,l=0;return l|=t&&s.KB_PAN,l|=i&&s.KB_ZOOM,(0,o.useEffect)((function(){var e=new s.Control.Keyboard(l);return c.addControl(e),function(){c.removeControl(e)}}),[c,l,s]),null};i.propTypes={pan:r.bool,zoom:r.bool},n.Z=i},8053:function(e,n,t){var r=t(3615),o=t(7378),a=t(1296),i=function(e){var n=e.pan,t=void 0===n||n,r=e.wheel,i=void 0===r||r,u=e.zoom,c=void 0===u||u,s=e.options,l=(0,a.S)(),p=l.map,d=l.SMap,f=0;return f|=t&&d.MOUSE_PAN,f|=c&&d.MOUSE_ZOOM,f|=i&&d.MOUSE_WHEEL,(0,o.useEffect)((function(){var e=new d.Control.Mouse(f,s);return p.addControl(e),function(){p.removeControl(e)}}),[p,f,d,s]),null};i.propTypes={options:(0,r.shape)({driftSlowdown:r.number,driftTreshold:r.number,idleDelay:r.number,maxDriftSpeed:r.number,minDriftSpeed:r.number,scrollDelay:r.number}),pan:r.bool,wheel:r.bool,zoom:r.bool},n.Z=i},5970:function(e,n,t){var r,o=t(7378),a=t(3615),i=t(1296),u=function(e){var n=e.labels,t=e.showZoomMenu,r=e.sliderHeight,a=void 0===r?16:r,u=e.stepHeight,c=void 0===u?9:u,s=(0,i.S)(),l=s.map,p=s.SMap;return(0,o.useEffect)((function(){var e=new p.Control.Zoom(n,{showZoomMenu:t,sliderHeight:a,step:c});return l.addControl(e),function(){l.removeControl(e)}}),[n,l,t,a,p,c]),null};u.propTypes={labels:(0,a.shape)((r={},r[a.number]=a.string,r)),showZoomMenu:a.bool,sliderHeight:a.number,step:a.number,titles:(0,a.arrayOf)(a.string)},n.Z=u},1572:function(e,n,t){t.d(n,{$N:function(){return l},AT:function(){return r},GA:function(){return s},Hi:function(){return i},VP:function(){return a},aG:function(){return o},b2:function(){return c},nS:function(){return u}});var r="mapy.cz-api-script",o=3,a=300,i={BASE:1,TURIST:2,OPHOTO:3,HYBRID:4,HISTORIC:5,BIKE:6,TRAIL:7,OPHOTO0203:8,OPHOTO0406:9,OBLIQUE:12,SMART_BASE:14,SMART_OPHOTO:15,SMART_TURIST:16,RELIEF:17,TURIST_WINTER:19,SMART_WINTER:20,SUMMER:21,SMART_SUMMER:22,GEOGRAPHY:23,OPHOTO1012:24,HYBRID_SPARSE:25,OPHOTO1415:26,BASE_NEW:27,TURIST_NEW:28},u={FAST:"fast",SHORT:"short",BIKE1:"bike1",BIKE2:"bike2",BIKE3:"bike3",TURIST1:"turist1",TURIST2:"turist2"},c="#f00",s=3,l={CANVAS:"CANVAS",GEOMETRY:"GEOMETRY",HUD:"HUD",IMAGE:"IMAGE",MARKER:"MARKER"}},4665:function(e,n,t){t.d(n,{V:function(){return o}});var r=t(7378),o=function(e,n){return function(){var t,o=(0,r.useContext)(e);if(void 0===o)throw new Error(e.displayName+" must be used within "+(null!=n?n:null==e||null==(t=e.Provider)?void 0:t.displayName));return o}}},455:function(e,n,t){t.d(n,{Y:function(){return o},q:function(){return a}});var r=t(3615),o={lng:(0,r.oneOfType)([r.number,r.string]),lat:(0,r.oneOfType)([r.number,r.string])},a={cardBodyText:r.string,cardHeaderText:r.string,coords:(0,r.shape)({lng:r.number,lat:r.number}).isRequired,enableCard:r.bool,imgSrc:r.string,tooltip:r.string}},9447:function(e,n,t){t.r(n),t.d(n,{contentTitle:function(){return v},default:function(){return b},frontMatter:function(){return m},metadata:function(){return h},toc:function(){return g}});var r=t(2685),o=t(1244),a=(t(7378),t(5318)),i=t(1296),u=t(4481),c=t(7915),s=t(5970),l=t(1601),p=t(8053),d=t(1080),f=["components"],m={id:"08-interactive-map-with-search"},v="Map with search",h={unversionedId:"Examples/08-interactive-map-with-search",id:"Examples/08-interactive-map-with-search",title:"Map with search",description:"Interactive map with controls and search input. The search input shows suggestions and on suggestion click centers the map on selected point.",source:"@site/docs/Examples/08-interactive-map-with-search.md",sourceDirName:"Examples",slug:"/Examples/08-interactive-map-with-search",permalink:"/react-mapy-cz/docs/Examples/08-interactive-map-with-search",editUrl:"https://github.com/lundegaard/react-mapy-cz/docs/Examples/08-interactive-map-with-search.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{id:"08-interactive-map-with-search"},sidebar:"docsSidebar",previous:{title:"Clustered points and signals",permalink:"/react-mapy-cz/docs/Examples/07-interactive-map-with-clusters-and-signals"},next:{title:"Pointer",permalink:"/react-mapy-cz/docs/Examples/09-interactive-map-with-pointer"}},g=[],y={toc:g};function b(e){var n=e.components,t=(0,o.Z)(e,f);return(0,a.kt)("wrapper",(0,r.Z)({},y,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"map-with-search"},"Map with search"),(0,a.kt)("p",null,"Interactive map with controls and search input. The search input shows suggestions and on suggestion click centers the map on selected point."),(0,a.kt)("div",null,(0,a.kt)("section",{className:d.Z.sMap},(0,a.kt)(i.Z,{center:{lng:14.4608576,lat:50.0963478},mdxType:"MapProvider"},(0,a.kt)(u.Z,{placeholder:"Search",disableGeolocation:!0,mdxType:"SearchInput"}),(0,a.kt)(c.Z,{mdxType:"Map"},(0,a.kt)(s.Z,{mdxType:"ZoomControl"}),(0,a.kt)(l.Z,{mdxType:"KeyboardControl"}),(0,a.kt)(p.Z,{zoom:!0,pan:!0,wheel:!0,mdxType:"MouseControl"}))))),(0,a.kt)("br",null),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Code")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<MapProvider center={{lng:  14.4608576, lat: 50.0963478}}   >\n    <SearchInput placeholder="Search" disableGeolocation />\n    <Map>\n        <ZoomControl />\n        <KeyboardControl />\n        <MouseControl zoom pan wheel />\n    </Map>\n</MapProvider>\n')))}b.isMDXComponent=!0},5318:function(e,n,t){t.d(n,{Zo:function(){return l},kt:function(){return f}});var r=t(7378);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=r.createContext({}),s=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},l=function(e){var n=s(e.components);return r.createElement(c.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,l=u(e,["components","mdxType","originalType","parentName"]),d=s(t),f=o,m=d["".concat(c,".").concat(f)]||d[f]||p[f]||a;return t?r.createElement(m,i(i({ref:n},l),{},{components:t})):r.createElement(m,i({ref:n},l))}));function f(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=d;var u={};for(var c in n)hasOwnProperty.call(n,c)&&(u[c]=n[c]);u.originalType=e,u.mdxType="string"==typeof e?e:o,i[1]=u;for(var s=2;s<a;s++)i[s]=t[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},3996:function(e){e.exports=function(e,n,t,r,o,a,i,u){if(!e){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[t,r,o,a,i,u],l=0;(c=new Error(n.replace(/%s/g,(function(){return s[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},1080:function(e,n){n.Z={heroBanner:"heroBanner_1ZBZ",sMap:"sMap_JuFh"}}}]);