"use strict";(self.webpackChunkmapy_cz_react_docs=self.webpackChunkmapy_cz_react_docs||[]).push([[241],{2384:function(e,r,n){var t=n(7378),o=n(3615),a=n(1296),i=n(9517),u=function(e){var r=e.maxDistance,n=void 0===r?100:r,o=(0,a.S)(),u=o.map,l=o.SMap,c=(0,i.S)(),s=(0,t.useRef)();return(0,t.useEffect)((function(){s.current=new l.Marker.Clusterer(u,n),c.setClusterer(s.current)}),[u,c,n,l]),null};u.propTypes={maxDistance:o.number},r.Z=u},7915:function(e,r,n){n.d(r,{Z:function(){return l}});var t=n(7378),o=n(3615),a="smap_3Ndk",i=n(1296),u=function(e){var r=e.children,n=e.width,o=void 0===n?"100%":n,u=e.height,l=void 0===u?"auto":u,c=(0,i.S)(),s=c.map,d=c.id;return t.createElement("div",{style:{width:o,height:l,minHeight:"150px"},id:d,className:a},s&&r)};u.propTypes={children:o.node,height:o.string,width:o.string};var l=(0,t.memo)(u)},1296:function(e,r,n){n.d(r,{Z:function(){return g},S:function(){return v}});var t=n(7378),o=n(3615),a=n(1572),i=n(455),u=n(3996),l=n.n(u),c=function(e){return function(r){var n=(0,t.useState)(!1),o=n[0],i=n[1],u=(0,t.useCallback)((function(e){var r,n;void 0===e&&(e=1),l()(window,"This library is not designed to be run on the server"),null!=(r=window)&&null!=(n=r.SMap)&&n.Suggest?i(!0):e<=a.aG&&setTimeout((function(){return u(!1)}),a.VP)}),[]);return(0,t.useEffect)((function(){if(document.getElementById(a.AT))u();else{var e=document.createElement("script");e.src="https://api.mapy.cz/loader.js",e.id=a.AT,e.async=!0,e.onload=function(){window.Loader.async=!0,window.Loader.load(null,{suggest:!0},u)},document.head.appendChild(e)}}),[u]),o?t.createElement(e,r):t.createElement("div",null,"Loading map...")}},s=function(e,r){return function(n,t,o,a){void 0===o&&(o=17),void 0===a&&(a=!0);var i=r.Coords.fromWGS84(n,t);e.setCenterZoom(i,o,a)}},d=n(4665),p=function(){var e=(0,t.useState)([]),r=e[0],n=e[1],o=(0,t.useCallback)((function(e,r){n((function(n){if(n.some((function(e){return e.type===r})))throw new Error("There can be only one rendered layer of type "+r+" in map");return[].concat(n,[{type:r,data:e}])}))}),[]),a=(0,t.useCallback)((function(e){var n=r.find((function(r){return r.type===e}));return null==n?void 0:n.data}),[r]);return{activeLayers:r,getActiveLayerByType:a,registerActiveLayer:o}},m=function(e,r,n,o,a,i,u){var l=(0,t.useState)(),c=l[0],s=l[1];return(0,t.useEffect)((function(){if(!c&&i){var t=i.Coords.fromWGS84(e.lng,e.lat),l=new i(window.JAK.gel(r),t,u);l.setZoomRange(a,o);var d=n[0],p=n.slice(1);l.addDefaultLayer(d).enable(),p.forEach((function(e){l.addDefaultLayer(e)})),s(l)}}),[e,r,c,n,o,a,i,u]),c},f=(0,t.createContext)(),v=(0,d.V)(f,"MapProvider"),y=function(e){var r=e.center,n=e.children,o=e.id,i=void 0===o?"mapy-cz-map":o,u=e.mapLayers,l=void 0===u?[a.Hi.BASE_NEW]:u,c=e.maxZoom,d=void 0===c?18:c,v=e.minZoom,y=void 0===v?1:v,g=e.zoom,b=void 0===g?5:g,M=(0,t.useMemo)((function(){return window.SMap}),[]),h=m(r,i,l,d,y,M,b),T=p();return t.createElement(f.Provider,{value:Object.assign({},T,{id:i,map:h,mapLayers:l,setMapCenter:s(h,M),SMap:M})},n)};y.propTypes={center:(0,o.shape)(i.Y).isRequired,children:o.node,id:o.string,mapLayers:(0,o.arrayOf)([(0,o.oneOf)(Object.keys(a.Hi))]),maxZoom:o.number,minZoom:o.number,zoom:o.number};var g=c(y)},9517:function(e,r,n){n.d(r,{S:function(){return c}});var t=n(7378),o=n(3615),a=n(4665),i=n(1572),u=n(1296),l=(0,t.createContext)(),c=(0,a.V)(l,"MarkerLayer"),s=function(e){var r=e.children,n=(0,u.S)(),o=n.map,a=n.SMap,c=n.registerActiveLayer,s=(0,t.useRef)();return(0,t.useEffect)((function(){var e=new a.Layer.Marker;return s.current=e,null==o||o.addLayer(e),e.enable(),c(e,i.$N.MARKER),function(){o.removeLayer(s.current)}}),[o,a,c]),t.createElement(l.Provider,{value:s.current},s.current&&r)};s.propTypes={children:o.node},r.Z=s},1038:function(e,r,n){var t=n(7378),o=n(3615),a=n(258),i=n(455),u=n(9517),l=n(1296),c=function(e){var r=e.markersData,n=(0,u.S)(),o=(0,l.S)().SMap,i=(0,t.useRef)(),c=(0,t.useRef)();return(0,t.useEffect)((function(){if(Array.isArray(r)&&JSON.stringify(i.current)!==JSON.stringify(r)){var e=r.map(a.Z);c.current&&(null==n||n.removeMarker(c.current)),null==n||n.addMarker(e),i.current=r,c.current=e}}),[n,r,o]),null};c.propTypes={markersData:(0,o.arrayOf)((0,o.shape)(i.q)).isRequired},r.Z=c},1601:function(e,r,n){var t=n(3615),o=n(7378),a=n(1296),i=function(e){var r=e.pan,n=void 0===r||r,t=e.zoom,i=void 0===t||t,u=(0,a.S)(),l=u.map,c=u.SMap,s=0;return s|=n&&c.KB_PAN,s|=i&&c.KB_ZOOM,(0,o.useEffect)((function(){var e=new c.Control.Keyboard(s);return l.addControl(e),function(){l.removeControl(e)}}),[l,s,c]),null};i.propTypes={pan:t.bool,zoom:t.bool},r.Z=i},8053:function(e,r,n){var t=n(3615),o=n(7378),a=n(1296),i=function(e){var r=e.pan,n=void 0===r||r,t=e.wheel,i=void 0===t||t,u=e.zoom,l=void 0===u||u,c=e.options,s=(0,a.S)(),d=s.map,p=s.SMap,m=0;return m|=n&&p.MOUSE_PAN,m|=l&&p.MOUSE_ZOOM,m|=i&&p.MOUSE_WHEEL,(0,o.useEffect)((function(){var e=new p.Control.Mouse(m,c);return d.addControl(e),function(){d.removeControl(e)}}),[d,m,p,c]),null};i.propTypes={options:(0,t.shape)({driftSlowdown:t.number,driftTreshold:t.number,idleDelay:t.number,maxDriftSpeed:t.number,minDriftSpeed:t.number,scrollDelay:t.number}),pan:t.bool,wheel:t.bool,zoom:t.bool},r.Z=i},5970:function(e,r,n){var t,o=n(7378),a=n(3615),i=n(1296),u=function(e){var r=e.labels,n=e.showZoomMenu,t=e.sliderHeight,a=void 0===t?16:t,u=e.stepHeight,l=void 0===u?9:u,c=(0,i.S)(),s=c.map,d=c.SMap;return(0,o.useEffect)((function(){var e=new d.Control.Zoom(r,{showZoomMenu:n,sliderHeight:a,step:l});return s.addControl(e),function(){s.removeControl(e)}}),[r,s,n,a,d,l]),null};u.propTypes={labels:(0,a.shape)((t={},t[a.number]=a.string,t)),showZoomMenu:a.bool,sliderHeight:a.number,step:a.number,titles:(0,a.arrayOf)(a.string)},r.Z=u},1572:function(e,r,n){n.d(r,{$N:function(){return s},AT:function(){return t},GA:function(){return c},Hi:function(){return i},VP:function(){return a},aG:function(){return o},b2:function(){return l},nS:function(){return u}});var t="mapy.cz-api-script",o=3,a=300,i={BASE:1,TURIST:2,OPHOTO:3,HYBRID:4,HISTORIC:5,BIKE:6,TRAIL:7,OPHOTO0203:8,OPHOTO0406:9,OBLIQUE:12,SMART_BASE:14,SMART_OPHOTO:15,SMART_TURIST:16,RELIEF:17,TURIST_WINTER:19,SMART_WINTER:20,SUMMER:21,SMART_SUMMER:22,GEOGRAPHY:23,OPHOTO1012:24,HYBRID_SPARSE:25,OPHOTO1415:26,BASE_NEW:27,TURIST_NEW:28},u={FAST:"fast",SHORT:"short",BIKE1:"bike1",BIKE2:"bike2",BIKE3:"bike3",TURIST1:"turist1",TURIST2:"turist2"},l="#f00",c=3,s={CANVAS:"CANVAS",GEOMETRY:"GEOMETRY",HUD:"HUD",IMAGE:"IMAGE",MARKER:"MARKER"}},258:function(e,r,n){var t=n(1244),o=["cardBodyText","cardHeaderText","coords","enableCard","imgSrc","tooltip"];r.Z=function(e){var r=e.cardBodyText,n=e.cardHeaderText,a=e.coords,i=e.enableCard,u=e.imgSrc,l=e.tooltip,c=(0,t.Z)(e,o),s=Object.assign({},u?{url:u}:void 0,l?{title:l}:void 0,c),d=window.SMap.Coords.fromWGS84(a.longitude,a.latitude),p=new window.SMap.Marker(d,!1,Object.keys(s).length>0?s:void 0);if(i){var m=new window.SMap.Card;m.getHeader().innerHTML=n,m.getBody().innerHTML=r,p.decorate(window.SMap.Marker.Feature.Card,m)}return p}},4665:function(e,r,n){n.d(r,{V:function(){return o}});var t=n(7378),o=function(e,r){return function(){var n,o=(0,t.useContext)(e);if(void 0===o)throw new Error(e.displayName+" must be used within "+(null!=r?r:null==e||null==(n=e.Provider)?void 0:n.displayName));return o}}},455:function(e,r,n){n.d(r,{Y:function(){return o},q:function(){return a}});var t=n(3615),o={lng:(0,t.oneOfType)([t.number,t.string]),lat:(0,t.oneOfType)([t.number,t.string])},a={cardBodyText:t.string,cardHeaderText:t.string,coords:(0,t.shape)({lng:t.number,lat:t.number}).isRequired,enableCard:t.bool,imgSrc:t.string,tooltip:t.string}},6677:function(e,r,n){n.r(r),n.d(r,{contentTitle:function(){return g},default:function(){return T},frontMatter:function(){return y},metadata:function(){return b},toc:function(){return M}});var t=n(2685),o=n(1244),a=(n(7378),n(5318)),i=n(1296),u=n(7915),l=n(5970),c=n(1601),s=n(8053),d=n(9517),p=n(2384),m=n(1038),f=n(1080),v=["components"],y={id:"04-interactive-map-multiple-markers"},g="Clustered markers",b={unversionedId:"Examples/04-interactive-map-multiple-markers",id:"Examples/04-interactive-map-multiple-markers",title:"Clustered markers",description:"MapProvider, MarkerLayer, MouseControl, MultipleMarkers, ZoomControl} from '../../../core/src';",source:"@site/docs/Examples/04-interactive-map-with-multiple-markers.md",sourceDirName:"Examples",slug:"/Examples/04-interactive-map-multiple-markers",permalink:"/react-mapy-cz/docs/Examples/04-interactive-map-multiple-markers",editUrl:"https://github.com/lundegaard/react-mapy-cz/docs/Examples/04-interactive-map-with-multiple-markers.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"04-interactive-map-multiple-markers"},sidebar:"docsSidebar",previous:{title:"Map layout switcher",permalink:"/react-mapy-cz/docs/Examples/03-interactive-map-with-layout-switcher"},next:{title:"Rendering thousands of points (MultipleMarkers)",permalink:"/react-mapy-cz/docs/Examples/05-interactive-map-with-thousands-of-points"}},M=[],h={toc:M};function T(e){var r=e.components,n=(0,o.Z)(e,v);return(0,a.kt)("wrapper",(0,t.Z)({},h,n,{components:r,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"clustered-markers"},"Clustered markers"),(0,a.kt)("p",null,"Interactive map with controls and multiple markers with marker clustering. Markers of close proximity are combined into clusters."),(0,a.kt)("div",null,(0,a.kt)("section",{className:f.Z.sMap},(0,a.kt)(i.Z,{center:{lng:14.4608576,lat:50.0963478},mdxType:"MapProvider"},(0,a.kt)(u.Z,{mdxType:"Map"},(0,a.kt)(l.Z,{mdxType:"ZoomControl"}),(0,a.kt)(c.Z,{mdxType:"KeyboardControl"}),(0,a.kt)(s.Z,{zoom:!0,pan:!0,wheel:!0,mdxType:"MouseControl"}),(0,a.kt)(d.Z,{mdxType:"MarkerLayer"},(0,a.kt)(p.Z,{mdxType:"Clusterer"}),(0,a.kt)(m.Z,{markersData:[{gps:{longitude:14.4608576,latitude:50.0963478},name:"Lundegaard s.r.o."},{gps:{longitude:16.6231535,latitude:49.186054},name:"Lundegaard s.r.o."},{gps:{longitude:15.8287533,latitude:50.2092489},name:"Lundegaard s.r.o."},{gps:{longitude:21.2391831,latitude:48.7287386},name:"Lundegaard Slovensko s.r.o."},{gps:{longitude:11.0712403,latitude:49.4517557},name:"Lundegaard s.r.o."}].map((function(e){return Object.assign({coords:e.gps,tooltip:e.name},e)})),mdxType:"MultipleMarkers"})))))),(0,a.kt)("br",null),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Code")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<MapProvider center={{lng:  14.4608576, lat: 50.0963478}}>\n        <Map>\n            <ZoomControl />\n            <KeyboardControl />\n            <MouseControl zoom pan wheel />\n            <MarkerLayer >\n                <Clusterer />\n                <MultipleMarkers markersData={[{gps: {longitude: 14.4608576, latitude: 50.0963478}, name: "Lundegaard s.r.o."}, {gps: {longitude: 16.6231535, latitude: 49.186054}, name: "Lundegaard s.r.o."}, {gps: {longitude: 15.8287533, latitude: 50.2092489}, name: "Lundegaard s.r.o."}, {gps: {longitude: 21.2391831, latitude: 48.7287386}, name: "Lundegaard Slovensko s.r.o."}, {gps: {longitude: 11.0712403, latitude: 49.4517557}, name: "Lundegaard s.r.o."}].map((point) => ({\n                coords: point.gps,\n                tooltip: point.name,\n                ...point,\n                }))}\n                />\n            </MarkerLayer>\n        </Map>\n    </MapProvider>\n')))}T.isMDXComponent=!0},5318:function(e,r,n){n.d(r,{Zo:function(){return s},kt:function(){return m}});var t=n(7378);function o(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function a(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function i(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){o(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function u(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=t.createContext({}),c=function(e){var r=t.useContext(l),n=r;return e&&(n="function"==typeof e?e(r):i(i({},r),e)),n},s=function(e){var r=c(e.components);return t.createElement(l.Provider,{value:r},e.children)},d={inlineCode:"code",wrapper:function(e){var r=e.children;return t.createElement(t.Fragment,{},r)}},p=t.forwardRef((function(e,r){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,s=u(e,["components","mdxType","originalType","parentName"]),p=c(n),m=o,f=p["".concat(l,".").concat(m)]||p[m]||d[m]||a;return n?t.createElement(f,i(i({ref:r},s),{},{components:n})):t.createElement(f,i({ref:r},s))}));function m(e,r){var n=arguments,o=r&&r.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=p;var u={};for(var l in r)hasOwnProperty.call(r,l)&&(u[l]=r[l]);u.originalType=e,u.mdxType="string"==typeof e?e:o,i[1]=u;for(var c=2;c<a;c++)i[c]=n[c];return t.createElement.apply(null,i)}return t.createElement.apply(null,n)}p.displayName="MDXCreateElement"},3996:function(e){e.exports=function(e,r,n,t,o,a,i,u){if(!e){var l;if(void 0===r)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,t,o,a,i,u],s=0;(l=new Error(r.replace(/%s/g,(function(){return c[s++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},1080:function(e,r){r.Z={heroBanner:"heroBanner_1ZBZ",sMap:"sMap_JuFh"}}}]);